<!-- Room List -->
<div class="container mt-4">

 <!-- Filter & sort -->
<div class="row mb-3">
  <div class="col-md-4">
  <label class="form label fw-bold">Filter by Room Type</label>
  <select class="form-select" [(ngModel)]="selectedType">
    <option value="">All Type</option>
    <option *ngFor="let type of roomTypes" [value]="type">
    {{ type }}
    </option>
    </select>
 </div>
 </div>

 <!--Room list -->
 <div class="row">
  <div class="col-md-4 mb-3" *ngFor="let room of filteredRooms()">

      <div class="card h-100 shadow-sm">
        <div class="card-body d-flex flex-column">

          <h5 class="card-title">Room {{ room.name }}</h5>
          <p class="card-text">
            Type: {{ room.type }}<br>
            Price: RM{{ room.price }}<br>
            Status: 
            <span [class.text-success]="room.availability" [class.text-danger]="!room.availability">
              {{ room.availability ? 'Available' : 'Booked' }}
            </span>
          </p>
          <button class="btn btn-primary" 
                  [disabled]="!room.availability" 
                  (click)="openBookingModal(room)">
            Book
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Booking Modal -->
<div *ngIf="showModal && selectedRoom" class="custom-modal-backdrop">
  <div class="custom-modal">
    <h4>Book Room {{ selectedRoom.name }}</h4>

    <form (ngSubmit)="bookRoom()">
      <div class="mb-2">
        <label>Guest Name:</label>
        <input type="text" [(ngModel)]="guestName" name="guestName" required class="form-control">
      </div>
      <div class="mb-2">
        <label>Check-in Date:</label>
        <input type="date" [(ngModel)]="checkInDate" name="checkInDate" required class="form-control">
      </div>
      <div class="mb-2">
        <label>Check-out Date:</label>
        <input type="date" [(ngModel)]="checkOutDate" name="checkOutDate" required class="form-control">
      </div>
      <div class="d-flex justify-content-between mt-3">
        <button type="submit" class="btn btn-success">Submit</button>
        <button type="button" class="btn btn-secondary" (click)="resetModal()">Cancel</button>
      </div>
    </form>
  </div>
</div>
